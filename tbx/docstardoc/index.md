# DocStar :hatching_chick:

DocStar is a tool for generating MATLAB toolbox documentation.

With DocStar, you can:
* write documentation in [Markdown](https://commonmark.org/help/) and convert to HTML for viewing in MATLAB
* run MATLAB code blocks in documents and include textual and graphical output
* create MATLAB documentation index files from a Markdown table of contents

This is DocStar version 0.6.  The [release notes](changelog.md) detail new features, bug fixes, and compatibility considerations for each version.

## Getting started

### System requirements

DocStar requires [MATLAB](https://www.mathworks.com/support/requirements/matlab-system-requirements.html) R2021a or later to *generate* documentation.

[`docstarconvert`](docstarconvert.md) and [`docstarindex`](docstarindex.md) require internet access to [api.github.com](https://docs.github.com/en/rest) to process your Markdown files and generate DocStar artifacts.  See the [GitHub API terms of service](https://docs.github.com/en/site-policy/github-terms/github-terms-of-service#h-api-terms) and [privacy statement](https://docs.github.com/en/site-policy/privacy-policies/github-general-privacy-statement) for further information.

Documentation generated by DocStar can be *viewed* in *much older* releases of MATLAB, and offline.

### Installation

DocStar is distributed as a MATLAB toolbox file (`.mltbx`).  See the MATLAB documentation for [instructions](https://www.mathworks.com/help/matlab/matlab_prog/create-and-share-custom-matlab-toolboxes.html) on installing and uninstalling toolboxes.

DocStar uses the [GitHub Markdown API](https://docs.github.com/en/rest/markdown) to convert from Markdown to HTML.  Requests to this service are rate limited, and [authenticated requests](https://docs.github.com/en/rest/authentication/authenticating-to-the-rest-api) get a higher limit.  To authenticate, [generate a GitHub access token](https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/managing-your-personal-access-tokens) (with no permissions), and register the token with MATLAB. MATLAB looks for the token:

1. first, in the [ environment variable](https://www.mathworks.com/help/matlab/ref/setenv.html) `DOCSTAR_GITHUB_TOKEN`
```matlab
setenv("DOCSTAR_GITHUB_TOKEN",token)
```
2. then, in the [secret](https://www.mathworks.com/help/matlab/ref/setsecret.html) `DocStar GitHub token`
```matlab
setSecret("DocStar GitHub token")
```
3. finally, in the [preference](https://www.mathworks.com/help/matlab/ref/setpref.html) `token` in the group `docstar`
```matlab
setpref("docstar","token",token)
```

## Working with DocStar

### Write documentation

Write documentation in Markdown using your favorite editor.  Include code, images, and links.  To designate a MATLAB code block ` ```matlab ` as for *display only*, not evaluation, add trailing whitespace to the last line.  You can use the DocStar documentation as inspiration for your own documentation!

Write a table of contents called `helptoc.md`, also in Markdown.  This document should contain:
* a level-1 heading `# Heading` with the name of the toolbox
* a nested list of links to your Markdown documents

For example:

```md
# Ducks Toolbox

* [Getting started](index.md)
  * [Huey](huey.md)
  * [Louie](louie.md)
  * [Dewey](dewey.md)
```

If you need a list item to group child items, specify an empty link URL, e.g. `* [Function reference]()`.  Other content in `helptoc.md` -- including additional links and normal text in list items -- is ignored by but harmless to [`docstarindex`](docstarindex.md).

### Publish documentation

First, use [`docstarconvert`](docstarconvert.md) to convert your Markdown documents to HTML.  Next, use [`docstarrun`](docstarrun.md) to run MATLAB code blocks in the HTML documents and insert textual and graphical output.  Finally, use [`docstarindex`](docstarindex.md) to generate documentation index files.  Here is a complete example, to generate the DocStar documentation:

```matlab
docstarconvert tbx/docstardoc/**/*.md
docstarrun tbx/docstardoc/**/*.html
docstarindex tbx/docstardoc 
```

Before you start, you may wish to delete previous DocStar artifacts using [`docstardelete`](docstardelete.md).

### Automate DevOps

You should commit your source files (`.md`, `.m`), but not the DocStar generated files (`.html`, `.xml`), to source control.  An example `.gitignore` snippet, from DocStar, is:

```
tbx/docstardoc/**/*.html
tbx/docstardoc/**/*.png
tbx/docstardoc/info.xml
tbx/docstardoc/helptoc.xml
tbx/docstardoc/custom_toolbox.json
tbx/docstardoc/resources
tbx/docstardoc/helpsearch-v*
```

You should package the generated files, and optionally the source files, for distribution.

From R2022b, you may wish to automate these steps using the [MATLAB Build Tool](https://www.mathworks.com/help/matlab/matlab_prog/overview-of-matlab-build-tool.html).

___

[home](index.md) :house: | [convert](docstarconvert.md) :arrow_right: | [run](docstarrun.md) :runner: | [index](docstarindex.md) :scroll: | [delete](docstardelete.md) :recycle: | [workspace](workspace.md) :construction_worker: | [about](about.md) :hatching_chick: | :copyright: [MathWorks](https://www.mathworks.com/services/consulting.html) 2024-2025